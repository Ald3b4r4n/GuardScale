/*
 * GuardScale — Camada de estilos (Tailwind CSS)
 * Autor: Antonio Rafael Souza Cruz de Noronha — rafasouzacruz@gmail.com
 * Descrição: Configurações e camadas do Tailwind para a aplicação.
 * - @config: aponta para o arquivo de configuração do Tailwind
 * - @import: importa o core do Tailwind
 * - @source: arquivos observados para geração das classes utilitárias
 */
@config "../tailwind.config.js";
@import "tailwindcss";
@source "./index.html";
@source "./**/*.js";
@source "../src/**/*.js";

/*
 * Tokens de design (Tailwind v4)
 * Expõe cores, tipografia e variáveis globais utilizadas nas camadas.
 */
@theme {
  --color-primary: #1e40af;
  --color-secondary: #3b82f6;
  --color-success: #10b981;
  --color-warning: #f59e0b;
  --color-error: #ef4444;
  --color-grayLight: #f3f4f6;
  --color-grayMid: #6b7280;
  --color-grayDark: #111827;
  --font-sans: "Inter", ui-sans-serif, system-ui, -apple-system, "Segoe UI",
    Roboto, "Noto Sans", Ubuntu, Cantarell, "Helvetica Neue", Arial, sans-serif;
}

/*
 * Camada base
 * Reúne resets, cores de fundo/texto padrão e estilos para elementos nativos.
 * Observação: Esses estilos substituem o antigo bloco inline do index.html.
 */
@layer base {
  html {
    @apply scroll-smooth overflow-x-hidden;
  }
  body {
    @apply bg-gray-50 text-gray-800 dark:bg-gray-900 dark:text-gray-100 font-sans overflow-x-hidden;
  }

  /* Campos padrão (inputs e selects) */
  input[type="text"],
  input[type="password"],
  input[type="email"],
  input[type="date"],
  input[type="time"],
  input[type="number"],
  select {
    @apply border-gray-300 rounded shadow-sm bg-white dark:bg-gray-800 dark:border-gray-700 dark:text-gray-100 placeholder-gray-400;
  }
  input[type="text"]:focus,
  input[type="password"]:focus,
  input[type="email"]:focus,
  input[type="date"]:focus,
  input[type="time"]:focus,
  input[type="number"]:focus,
  select:focus {
    @apply border-secondary ring-2 ring-secondary outline-none;
  }

  /*
   * Botões padrão
   * Estilo inspirado em Kokonut UI (degradê suave, sombra e foco acessível).
   */
  button.btn-primary {
    @apply relative inline-flex items-center justify-center px-4 py-2 select-none rounded-xl font-medium text-white 
  bg-linear-to-b from-secondary to-primary shadow-[0_8px_20px_rgba(59,130,246,0.35)] 
  transition-all duration-200 ease-out hover:-translate-y-px hover:shadow-[0_12px_28px_rgba(59,130,246,0.45)] 
      focus:outline-none focus:ring-2 focus:ring-secondary focus:ring-offset-2 focus:ring-offset-white dark:focus:ring-offset-gray-900 
      disabled:opacity-60 disabled:cursor-not-allowed;
  }
  button.btn-secondary {
    @apply relative inline-flex items-center justify-center px-4 py-2 select-none rounded-xl font-medium 
      text-gray-800 dark:text-gray-100 bg-white/70 dark:bg-gray-800/70 backdrop-blur-md 
      border border-white/40 dark:border-white/10 shadow-[0_6px_18px_rgba(0,0,0,0.10)] 
  transition-all duration-200 ease-out hover:bg-white/80 dark:hover:bg-gray-800/80 hover:-translate-y-px;
  }
  button.btn-danger {
    @apply relative inline-flex items-center justify-center px-3 py-1.5 select-none rounded-xl font-medium text-white 
  bg-linear-to-b from-red-500 to-red-600 shadow-[0_8px_20px_rgba(239,68,68,0.35)] 
  transition-all duration-200 ease-out hover:-translate-y-px hover:shadow-[0_12px_28px_rgba(239,68,68,0.45)] 
      focus:outline-none focus:ring-2 focus:ring-red-400 focus:ring-offset-2 focus:ring-offset-white dark:focus:ring-offset-gray-900;
  }
}

@layer components {
  /* Card com glassmorphism suave (inspirado Kokonut UI) */
  .card {
    @apply relative rounded-2xl border border-white/40 dark:border-white/10 
    bg-white/70 dark:bg-gray-800/60 backdrop-blur-md shadow-[0_12px_35px_rgba(0,0,0,0.12)];
  }
  .card:hover {
    @apply shadow-[0_16px_40px_rgba(0,0,0,0.16)];
  }
  .table-base {
    @apply w-full text-left text-sm;
  }
  .table-header {
    @apply bg-white/70 dark:bg-gray-800/60 backdrop-blur-md;
  }
  .table-cell {
    @apply p-2 align-middle;
  }
  .badge {
    @apply px-2 py-1 rounded-lg text-xs font-medium bg-white/60 dark:bg-gray-800/60 border border-white/30 dark:border-white/10 backdrop-blur;
  }
  /* Painel de modal (vidro + sombra) */
  .modal-panel {
    @apply rounded-2xl bg-white/80 dark:bg-gray-900/80 backdrop-blur-xl border border-white/40 dark:border-white/10 shadow-[0_20px_60px_rgba(0,0,0,0.25)];
  }
}

/*
 * Efeito skeleton shimmer
 * Utilizado para placeholders enquanto dados assíncronos carregam.
 */
@keyframes skeleton {
  0% {
    background-position: -200% 0;
  }
  100% {
    background-position: 200% 0;
  }
}
@layer utilities {
  .skeleton {
    @apply relative overflow-hidden bg-gray-200 dark:bg-gray-700 rounded;
  }
  .skeleton::after {
    content: "";
    position: absolute;
    inset: 0;
    background: linear-gradient(
      90deg,
      transparent,
      rgba(255, 255, 255, 0.4),
      transparent
    );
    background-size: 200% 100%;
    animation: skeleton 1.2s infinite;
    mix-blend-mode: overlay;
  }
  .skeleton-text {
    @apply h-4;
  }
  .skeleton-sm {
    @apply h-3;
  }
  .skeleton-lg {
    @apply h-6;
  }
  /* Safe areas para iOS (recortes e barra inferior) */
  .pt-safe {
    padding-top: env(safe-area-inset-top);
  }
  .pb-safe {
    padding-bottom: env(safe-area-inset-bottom);
  }
  /* Botão ocupa largura total em telas pequenas */
  .btn-block {
    @apply w-full sm:w-auto;
  }
  /* Tabela condensada para mobile (tipografia e paddings reduzidos) */
  .table-condensed {
    @apply text-xs sm:text-sm;
  }
  .cell-condensed {
    @apply p-2 sm:p-3;
  }
  /* Oculta barras de rolagem visuais (mantém rolagem funcional) */
  .no-scrollbar::-webkit-scrollbar { display: none; }
  .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
}